<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Chrome Incognito, FlixBus and 5 EUR | Merely curious</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Chrome Incognito, FlixBus and 5 EUR" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Quite a peculiar story happened to me recently. I was buying a FlixBus ticket for 24.99 EUR. I already had it in my “cart” and I had 30 minutes to buy it before the cart expires. Then I started double checking other details and in the end it expired (actually couple seconds before I pressed “pay”). I tried to buy it again, but now the price was 29.99 EUR, i.e. 5 EUR more." />
<meta property="og:description" content="Quite a peculiar story happened to me recently. I was buying a FlixBus ticket for 24.99 EUR. I already had it in my “cart” and I had 30 minutes to buy it before the cart expires. Then I started double checking other details and in the end it expired (actually couple seconds before I pressed “pay”). I tried to buy it again, but now the price was 29.99 EUR, i.e. 5 EUR more." />
<link rel="canonical" href="https://merelycurious.me/post/incognito-flixbus-and-5-eur" />
<meta property="og:url" content="https://merelycurious.me/post/incognito-flixbus-and-5-eur" />
<meta property="og:site_name" content="Merely curious" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-08-03T20:00:00+02:00" />
<script type="application/ld+json">
{"description":"Quite a peculiar story happened to me recently. I was buying a FlixBus ticket for 24.99 EUR. I already had it in my “cart” and I had 30 minutes to buy it before the cart expires. Then I started double checking other details and in the end it expired (actually couple seconds before I pressed “pay”). I tried to buy it again, but now the price was 29.99 EUR, i.e. 5 EUR more.","@type":"BlogPosting","url":"https://merelycurious.me/post/incognito-flixbus-and-5-eur","headline":"Chrome Incognito, FlixBus and 5 EUR","dateModified":"2019-08-03T20:00:00+02:00","datePublished":"2019-08-03T20:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://merelycurious.me/post/incognito-flixbus-and-5-eur"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://merelycurious.me/feed.xml" title="Merely curious" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-131503689-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Merely curious</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/queue/">Future post ideas</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Chrome Incognito, FlixBus and 5 EUR</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-08-03T20:00:00+02:00" itemprop="datePublished">Aug 3, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Quite a peculiar story happened to me recently.
I was buying a FlixBus ticket for 24.99 EUR. I already had it in my “cart” and I had 
30 minutes to buy it before the cart expires. Then I started double checking other
details and in the end it expired (actually couple seconds before I pressed “pay”).
I tried to buy it again, but now the price was 29.99 EUR, i.e. 5 EUR more.</p>

<!--more-->

<h2 id="workaround">Workaround</h2>

<p>Uh, I was confused and surprised. They definitely knew that I am interested in this ticket.
I already almost bought it once and, yes, I still wanted to buy it.
But increasing the price by 5 EUR because of that would be mean.
Fortunately, I knew that they can recognize me (by my browser session) and perhaps if I start fresh
the price would be different. E.g. they could set a “cookie” in my browser saying
something like “hey, this chap tried to buy this ticked already, let’s do +5 EUR, cheers!”.
This cookie would be absent in my new session. Thus, I tried to open the same page
in a Chrome Incognito tab. Guess what - the price was the old one - 24.99 EUR.
They could potentially correlate my new session with my old one (e.g. by IP, time and my computer hardware),
but that would be cumbersome.</p>

<p>Now I don’t remember precisely, but I feel like I refreshed the old session page as well after seeing 24.99 EUR
in the incognito tab and it was still showing 29.99 EUR. This is actually a very important detail to understand
how this happened.</p>

<h2 id="hypotheses">Hypotheses</h2>

<h3 id="someone-is-being-mean">Someone is being mean</h3>
<p>Theoretically, this could be intended. Theoretically, FlixBus almost made +5 EUR out of nowhere
(ok, out of my pocket to be precise). It is easy to see how this could benefit them.
However, this would be pretty mean and I would be very surprised if this is the case.
The approach does not look very sustainable, someone would definitely notice and complain.
Also it is better to assume positive intention and give benefit of doubt.</p>

<h3 id="bugs-bugs-bugs">Bugs, bugs, bugs</h3>
<p>A bit more plausible explanation is that this is just a bug. So far this is my best guess.
As far as I know, FlixBus uses “adaptive” pricing. I.e. if someone buys a ticket, the next 
ticket can cost more. This tries to adapt to the actual demand (people buy more tickets to
some destination, demand must be high, so the price can higher too). Airlines go crazy
with this stuff. I haven’t observed FlixBus increasing and decreasing their prices
frequently, but airlines (based on my experience) do this a lot.</p>

<p>Thus, when “almost” my ticket (24.99 EUR one) was in my “cart”, FlixBus could already raise the price for
the next one to 29.99 EUR. They could just assume that the first ticket is almost sold.
And then when the first ticket “expires”, they need to decrease the price back.
Perhaps there is some race condition here and I happened to open the state when my old not-bought expired ticket
was still in the cart (but in the reality it wasn’t).</p>

<p>Then the question is why incognito helped. I could imagine them having multiple servers
and perhaps some caching. Theoretically, my new tab could have hit some other server,
which was already aware that 24.99 EUR ticket came back. Or the server serving the old
session could have cached 29.99 EUR (but caching price pages sounds weird).</p>

<p>I know that my hypothesis is somewhat weak, but, hey, the info I have is limited as well.</p>

<h2 id="experiment">Experiment</h2>

<h3 id="design">Design</h3>

<p>Ok, originally I didn’t plan to experiment with this, but now I am curious.
The plan is the following:</p>
<ul>
  <li>Add a couple tickets to “cart”.</li>
  <li>Let them expire.</li>
  <li>Check their price again.</li>
  <li>Open incognito and check price there.</li>
  <li>If I observe the increase, I could create a new Chrome profile, check the price and then and inject the cookie from the old profile
into the new one and check the price again.</li>
</ul>

<h3 id="process">Process</h3>

<p>I decided to add Berlin - Munich tickets to my “cart”. Unfortunately, one cannot add two tickets on the same day in the same
direction (which makes sense, but it is inconvenient for my experiment), so I added 3 tickets for each day from 21st of August to 
23rd of August. FlixBus shows when there are 0, 1 or 2 tickets left at this price, so I varied this parameter:</p>
<ul>
  <li>21st of August - price 27.98 and 2 seats left at this price
<img src="/assets/post_resources/incognito_flixbus_5_eur/init_21st.png" alt="Initial ticket price for 21st of August" /></li>
  <li>22nd of August - price 27.98 and 1 seat left at this price
<img src="/assets/post_resources/incognito_flixbus_5_eur/init_22nd.png" alt="Initial ticket price for 22nd of August" /></li>
  <li>23rd of August - price 27.99 and no additional messages.
<img src="/assets/post_resources/incognito_flixbus_5_eur/init_23rd.png" alt="Initial ticket price for 23rd of August" /></li>
</ul>

<p>Overall my cart was 83.95 EUR.</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/init_summary.png" alt="Cart overview" /></p>

<p>Then I waited for ~20 minutes and checked from an incognito window.
Only in the second case (22nd of August) price grew to 30.98 EUR.
<img src="/assets/post_resources/incognito_flixbus_5_eur/mid_22nd.png" alt="22nd of August ticket price before expiry" /></p>

<p>This makes sense (they said I took the last seat at the previous price).
On the 21st of August they say that 1 seat is left at this price, but the price is the same.
<img src="/assets/post_resources/incognito_flixbus_5_eur/mid_21st.png" alt="21st of August ticket price before expiry" /></p>

<p>For 23rd nothing has changed.
<img src="/assets/post_resources/incognito_flixbus_5_eur/mid_23rd.png" alt="23rd of August ticket price before expiry" /></p>

<p>Then I let the cart expire.
Funny fact: they say “1 minute<strong>s</strong>” when only 1 minute is left:</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/1_minutes.png" alt="&quot;1 minute**s**&quot; expiry warning" /></p>

<p>Probably so few people reach this point (and observe the page while doing that), that no one complained or it is
not worth fixing. Yeap, a minor nit.</p>

<p>Another fun fact: the number turns red when it is 0:</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/0_minutes.png" alt="&quot;0 minutes&quot; expiry warning" /></p>

<p>And finally - expired:</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/session_expired.png" alt="Session expired message" /></p>

<p>Then I checked all the prices from the same browser window, i.e. same session.
All prices were the same as they were when I started my experiment:</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/final_same_session_21st.png" alt="Final (after expiry) ticket price for 21st of August" /></p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/final_same_session_22nd.png" alt="Final (after expiry) ticket price for 22nd of August" /></p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/final_same_session_23rd.png" alt="Final (after expiry) ticket price for 23rd of August" /></p>

<p>I.e. I did not observe any price increase in any of the cases.
I was just able to rebuild my “cart” with exactly the same prices.</p>

<p><img src="/assets/post_resources/incognito_flixbus_5_eur/final_summary.png" alt="Rebuilt cart with exactly the same prices" /></p>

<h2 id="conclusions">Conclusions</h2>

<p>I was not able to reproduce the issue.
Obviously they could do this trick only once in a while to prevent someone like me detecting this.
My gut feeling is that this is a weird bug due to multiple system part interaction (e.g. caching or distributed servers).</p>

<h2 id="flixbus-opinion">FlixBus opinion</h2>
<p>I have asked them on Twitter (<a href="https://twitter.com/merely_curious_/status/1157727264647372801">tweet</a>). Not sure whether they
will reply (that would be very unpleasant to debug for someone there
especially based on the scarce data I have here and me being unable to reproduce it), but let’s see.</p>

  </div><a class="u-url" href="/post/incognito-flixbus-and-5-eur" hidden></a>
</article>

      </div>
    </main>
<footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Merely curious</li><li><a class="u-email" href="mailto:merelycurious protonmail.com">merelycurious protonmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://www.twitter.com/merely_curious_"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">merely_curious_</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Everything I find interesting enough.</p>
      </div>
    </div>

  </div>

</footer>

<script type="text/javascript" async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'></script>

</body>

</html>
